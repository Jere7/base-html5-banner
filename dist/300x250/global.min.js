/*! Base - v0.0.2 - 2016-02-06
Author: Hangar - marcos@thehangar.cr */
"use strict";function App_skippy(){return void 0!==App_skippy.instance?App_skippy.instance:(App_skippy.instance=this,LTApp.call(this),App_skippy.instance)}function initEB(){EB.isInitialized()?startAd():EB.addEventListener(EBG.EventName.EB_INITIALIZED,startAd)}function startAd(){addEventListeners()}function addEventListeners(){document.getElementById("cta-arrow").addEventListener("click",clickthrough)}function clickthrough(){EB.clickthrough()}!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var EVENT_TYPES={click:"MouseEvents",dblclick:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mouseover:"MouseEvents",mousemove:"MouseEvents",mouseout:"MouseEvents",contextmenu:"MouseEvents",keypress:"KeyEvents",keydown:"KeyEvents",keyup:"KeyEvents",load:"HTMLEvents",unload:"HTMLEvents",abort:"HTMLEvents",error:"HTMLEvents",resize:"HTMLEvents",scroll:"HTMLEvents",select:"HTMLEvents",change:"HTMLEvents",submit:"HTMLEvents",reset:"HTMLEvents",focus:"HTMLEvents",blur:"HTMLEvents",touchstart:"MouseEvents",touchend:"MouseEvents",touchmove:"MouseEvents"},createEvent=function(a){"string"==typeof a&&(a=a.toLowerCase());var b=null,c=EVENT_TYPES[a]||"Event";return document.createEvent&&(b=document.createEvent(c),b._eventClass=c,a&&b.initEvent(a,!0,!0)),document.createEventObject&&(b=document.createEventObject(),a&&(b.type=a,b._eventClass=c)),b},fireEvent=function(a,b,c){var d=createEvent(b);if("Event"!==d._eventClass)return d.data=c,a.dispatchEvent(d);var e=a._handlers||{},f=e[b];if(f)for(var g=0;g<f.length;g++){var h=$.isArray(c)?c:[];h.unshift(d);var i=f[g].apply(a,h);if(i="undefined"==typeof i?!0:i,!i)break}},makeObj=function(a,b){var c={};return c[a]=b,c},getParentElem=function(a){var b=$.trim(a).toLowerCase();return 0==b.indexOf("<option")?"SELECT":0==b.indexOf("<li")?"UL":0==b.indexOf("<tr")?"TBODY":0==b.indexOf("<td")?"TR":"DIV"},$=function(a,b){return(new $o).init(a)};$.handlers={},$.isFn=function(a){return"[object Function]"==={}.toString.call(a)},$.isArray=function(a){return"[object Array]"==={}.toString.call(a)},$.each=function(a,b){var c,d=0,e=a.length,f=void 0===e||$.isFn(a);if(f){for(c in a)if(b.call(a[c],c,a[c])===!1)break}else for(var g=a[0];e>d&&b.call(g,d,g)!==!1;g=a[++d]);return a},$.inArray=function(a,b){for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},$.trim=function(a){return null!=a?a.toString().replace(/^\s*|\s*$/g,""):""};var $o=function(){};$o.prototype={selector:"",length:0,init:function(a){if(!a)return this;if(this.selector=a,a.nodeType)this[0]=a,this.length=1;else{var b=[];if("string"==typeof a&&0==$.trim(a).indexOf("<")&&-1!=$.trim(a).indexOf(">")){var c=getParentElem(a),d=document.createElement(c);d.innerHTML=a,b=[d.removeChild(d.firstChild)],d=null}else b=document.querySelectorAll(a);[].push.apply(this,b)}return this},each:function(a){return $.each(this,a)},toArray:function(){return[].slice.call(this,0)},addClass:function(a){return this.each(function(){this.classList?this.classList.add(a):this.className+=" "+a})},removeClass:function(a){return this.each(function(){this.classList?this.classList.remove(a):this.className=this.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")})},hasClass:function(a){return 0==this[0].className.length?!1:-1!=$.inArray(a,this[0].className.split(" "))},after:function(a){return this.each(function(){"node"==typeof a?this.insertAdjacentHTML("afterend",a.outerHTML):"string"==typeof a?this.insertAdjacentHTML("afterend",a):this.insertAdjacentHTML("afterend",a[0].outerHTML)})},before:function(a){return this.each(function(){"node"==typeof a?this.insertAdjacentHTML("beforebegin",a.outerHTML):"string"==typeof a?this.insertAdjacentHTML("beforebegin",a):this.insertAdjacentHTML("beforebegin",a[0].outerHTML)})},append:function(a){return this.each(function(){"node"==typeof a?this.appendChild(a):"string"==typeof a?this.innerHTML+=a:this.appendChild(a[0])})},prepend:function(a){return this.each(function(){var b=a.firstChild;"node"==typeof a?this.insertBefore(a,b):"string"==typeof a?this.innerHTML=a+this.innerHTML:this.insertBefore(a[0],b)})},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},attr:function(a,b){return"string"==typeof a&&null==b?this[0]?this[0].getAttribute(a):"":this.each(function(){a="string"==typeof a?makeObj(a,b):a;for(var c in a){var d=a[c];this.setAttribute(c,d)}})},prop:function(a,b){return b?void(this[0][a]=b):this[0][a]},html:function(a){return a?this.each(function(){this.innerHTML=a}):this[0].innerHTML},text:function(a){return a?this.each(function(){this.textContent=a}):this[0].textContent},hide:function(a){return this.each(function(){this.style&&null!=this.style.display&&"none"!=this.style.display.toString()&&(this._oldDisplay=this.style.display.toString()||("span"!=this.nodeName?"block":"inline"),this.style.display="none"),$.isFn(a)&&a(this)})},show:function(a){return this.each(function(){this.style.display=(this._oldDisplay&&""!=this._oldDisplay?this._oldDisplay:null)||("span"!=this.nodeName?"block":"inline"),$.isFn(a)&&a(this)})},css:function(a,b){return"string"==typeof a&&null==b?getComputedStyle(this[0])[a]:(a="string"==typeof a?makeObj(a,b):a,this.each(function(){var b=this;"undefined"!=typeof b.style&&$.each(a,function(a,c){c="number"==typeof c?c+"px":c;var d=a;b.style[d]||(d=a),b.style[d]=c})}))},eq:function(a){var b=0>a?this[this.length+a]:this[a];return $(b)},data:function(a,b){if(document.head&&document.head.dataset){if(void 0===b)return this[0].dataset[a];this[0].dataset[a]=b}else{if(void 0===b)return this[0].getAttribute("data-"+a);this[0].setAttribute("data-"+a,value)}},removeData:function(a){document.head&&document.head.dataset?this.each(function(){delete this.dataset[a]}):this.each(function(){this.removeAttribute("data-"+a)})},on:function(a,b,c){$.handlers[a]||($.handlers[a]={},document.addEventListener(a,function(b){var c=[],d=b.target;for(c.push(d);9!==d.nodeType;)d=d.parentNode,c.push(d);for(var e in $.handlers[a]){var f=[].filter.call($(e),function(a){return-1!==c.indexOf(a)});f.length>0&&$.handlers[a][e].call(f[0],b)}})),"string"!=typeof b&&(c=b,b=this.selector),$.handlers[a][b]=c},off:function(a,b){b||(b=this.selector),delete $.handlers[a][b];var c=!0;for(var d in $.handlers[a])$.handlers[a].hasOwnProperty(d)&&(c=!1);c&&(delete $.handlers[a],document.removeEventListener(a))},trigger:function(a,b){return this.each(function(){return fireEvent(this,a,b)})}},$.each("click,dblclick,mouseover,mouseout,mousedown,mouseup,mousemove,keydown,keypress,keyup,focus,blur,change,select,error,load,unload,scroll,resize,touchstart,touchend,touchmove".split(","),function(a,b){$o.prototype[b]=function(a){return a?this.on(b,a):this.trigger(b)}});var LTApp=function(){this.INITED=!1};LTApp.prototype={preload:function(a,b){this.sources=a;var c,d=0;if($("*").each(function(a,b){"SCRIPT"!==b.tagName&&"feMergeNode"!==b.tagName&&this.findImageInElement(b)}.bind(this)),0===this.sources.length)b.call();else if(document.images)for(var e=0;e<this.sources.length;e++)c=new Image,c.onload=function(){d++,d===this.sources.length&&b.call()}.bind(this),c.src=this.sources[e];else b.call()},determineUrl:function(a){var b,c="",d=a.currentStyle||window.getComputedStyle(a,null);return""!==d.backgroundImage&&"none"!==d.backgroundImage||""!==a.style.backgroundImage&&"none"!==a.style.backgroundImage?(b=d.backgroundImage||a.style.backgroundImage,-1===b.indexOf("gradient(")&&(c=b.split(","))):"undefined"!=typeof a.getAttribute("src")&&"img"===a.nodeName.toLowerCase()&&(c=a.getAttribute("src")),[].concat(c)},findImageInElement:function(a){var b=this.determineUrl(a),c=navigator.userAgent.match(/msie/i)||navigator.userAgent.match(/Opera/i)?"?rand="+Math.random():"";b.forEach(function(a){a=this.stripUrl(a),""!==a&&this.sources.push(a+c)}.bind(this))},stripUrl:function(a){return a=$.trim(a),a=a.replace(/url\(\"/g,""),a=a.replace(/url\(/g,""),a=a.replace(/\"\)/g,""),a=a.replace(/\)/g,"")}},App_skippy.prototype=new LTApp,App_skippy.fn=App_skippy.prototype,App_skippy.getInstance=function(){return void 0===App_skippy.instance&&new App_skippy,App_skippy.instance},App_skippy.fn.init=function(){this.INITED||(this.INITED=!0,this.preload([],this.display.bind(this)),this.zoomIn={scaleX:1,scaleY:1,ease:Power1.easeOut},this.opacityIn={opacity:1},this.heightIn={height:23},this.displayBlock={display:"block"},this.zoomOut={scaleX:0,scaleY:0,ease:Power1.easeOut},this.opacityOut={opacity:0})},App_skippy.fn.display=function(){this.steps=$(".step"),this.goTo(1),$("body").removeClass("loading"),$("body").addClass("loaded")},App_skippy.fn.goTo=function(a){this.steps.each(function(b,c){var d=$(c);d.data("order")==a&&($(".step-active").removeClass("step-active"),d.addClass("step-active"))}),this["step"+a]&&this["step"+a]()},App_skippy.fn.goToAndWait=function(a,b){this.steps.each(function(c,d){var e,f=$(d);f.data("order")==a&&(e=$(".step-active"),f.addClass("step-active"),setTimeout(function(){e.removeClass("step-active")},b))}),this["step"+a]&&this["step"+a]()},App_skippy.fn.step1=function(){function a(){if(J){var b=new TimelineLite;b.to(k,.2,{x:-4,y:4},"shake").to(k,.2,{x:7,y:-5},"shake+=0.2").to(k,.2,{x:-5,y:-4},"shake+=0.4").to(l,.2,{x:-7,y:-2},"shake").to(l,.2,{x:6,y:8},"shake+=0.2").to(l,.2,{x:-4,y:4},"shake+=0.4").to(m,.2,{x:-1,y:6},"shake").to(m,.2,{x:3,y:-9},"shake+=0.2").to(m,.2,{x:-3,y:-4},"shake+=0.4").to(n,.2,{x:-4,y:2},"shake").to(n,.2,{x:5,y:5},"shake+=0.2").to(n,.2,{x:-7,y:-4},"shake+=0.4").to(o,.2,{x:-4,y:2},"shake").to(o,.2,{x:5,y:5},"shake+=0.2").to(o,.2,{x:-7,y:-4},"shake+=0.4").to(p,.2,{x:-4,y:2},"shake").to(p,.2,{x:5,y:5},"shake+=0.2").to(p,.2,{x:-7,y:-4,onComplete:a},"shake+=0.4")}}function b(){if(J){var a=new TimelineLite;a.to(i,.2,{x:-5,y:5},"shake").to(i,.2,{x:8,y:-6},"shake+=0.2").to(i,.2,{x:-9,y:-7},"shake+=0.4").to(i,.2,{x:3,y:5},"shake+=0.6").to(i,.2,{x:-7,y:-9},"shake+=0.8").to(i,.2,{x:6,y:-5},"shake+=1").to(q,.4,{x:-8,y:-3},"shake").to(q,.4,{x:7,y:9},"shake+=0.2").to(q,.4,{x:-7,y:5},"shake+=0.4").to(q,.4,{x:6,y:-9},"shake+=0.6").to(q,.4,{x:-5,y:8},"shake+=0.8").to(q,.4,{x:9,y:-5,onComplete:b},"shake+=1")}}function c(){f.from(g,.9,{x:-200},"intro").to(g,.3,{x:-70},"intro+=1.5").from(h,.9,{x:200},"intro").to(h,.3,{x:70},"intro+=1.5").to(g,.4,{x:100,ease:Elastic.easeOut,onComplete:a},"intro+=2").to(h,.4,{x:-100,ease:Elastic.easeOut,onComplete:b},"intro+=2").to(g,.3,{opacity:0},"intro+=2.2").to(h,.3,{opacity:0},"intro+=2.2").from(i,.5,{opacity:0,scale:0},"intro+=2").from(q,.5,{opacity:0,scale:0},"intro+=2").from(j,.5,{opacity:0,scale:0},"intro+=2").to(j,0,{onComplete:d},"intro+=3.2")}function d(){J=!1,f.to(q,.5,{opacity:0,scale:0},"final+=0.5").to([j,i],.5,{opacity:0,scale:0},"final+=0.5").to(r,.5,{opacity:1,scale:1},"final+=0.5").to(i,.5,{scaleX:1,scaleY:.5},"final+=1.5").to(r,.4,{x:-63.5},"final+=1.5").to(A,.1,{opacity:1},"final+=1.5").to(A,.4,{x:57.5},"final+=1.5").to([A,r],.4,{x:0,onComplete:e},"final+=2.5")}function e(){f.to(i,.7,{opacity:0,y:-200},"out").to([A,r],.7,{y:200},"out").from([B,C],.4,{z:-100,y:200},"pack-=0.2").to([B,C],.4,{opacity:1},"pack-=0.2").to(t,6,{y:115,rotationZ:110},"rain").to(u,6,{y:100,rotationZ:115},"rain+=0.5").to(v,.3,{y:110,rotationZ:112},"rain+=0.9").to(w,6,{y:120,rotationZ:115},"rain").to(x,.3,{y:120,rotationZ:180},"rain+=").to(y,6,{y:115,rotationZ:112},"rain+=0.4").to(z,6,{y:105,rotationZ:110},"rain").to(s,.4,{y:-200,opacity:0},"packOut+=0.7").to(G,.4,{y:-152,opacity:1},"logoIntro").to(F,.4,{y:114,opacity:1},"logoIntro").to(D,.4,{opacity:1},"copy").to(D,.4,{opacity:0},"copy+=2.5").to(E,.4,{opacity:1},"finalF").to(H,.4,{opacity:1},"finalF").to(I,.4,{opacity:1},"finalF+=0.3")}var f=new TimelineLite,g=$(".skippy-small-product"),h=$(".pretzel"),i=$(".cloud"),j=$(".rays-container"),k=$(".ray-1"),l=$(".ray-2"),m=$(".ray-3"),n=$(".ray-4"),o=$(".ray-5"),p=$(".ray-6"),q=$(".cloud-txt"),r=$(".cookie"),s=$(".cookie-rain"),t=$(".cookie-1"),u=$(".cookie-2"),v=$(".cookie-3"),w=$(".cookie-4"),x=$(".cookie-5"),y=$(".cookie-6"),z=$(".cookie-7"),A=$(".cookie-flipped-1"),B=$(".skippy-big-product"),C=$(".skippy-big-product__cap"),D=$(".txt-1"),E=$(".txt-2"),F=$(".logo"),G=$(".skippy-small"),H=$("#cta-arrow"),I=$(".legal"),J=!0;window.tl=f,c()},window.addEventListener("load",initEB);